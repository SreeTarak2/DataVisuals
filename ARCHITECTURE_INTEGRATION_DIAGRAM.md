# Frontend-Backend Architecture Diagram
## DataSage AI v4.0 Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND (React + Vite)                            â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Pages / Views                                   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚  Upload Page â”‚  â”‚ Dataset List â”‚  â”‚Dataset Detailâ”‚                 â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ [Enhanced    â”‚  â”‚ [Domain      â”‚  â”‚ [Quality     â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  11-Stage    â”‚  â”‚  Badges]     â”‚  â”‚  Indicators] â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  Progress]   â”‚  â”‚              â”‚  â”‚              â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚         â”‚                  â”‚                  â”‚                         â”‚ â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                            â”‚                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚  â”‚              Dashboard Page                     â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚                                                 â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚Chart Intelligenceâ”‚  â”‚  Chart Insights  â”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     Panel        â”‚  â”‚      Card        â”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Confidence     â”‚  â”‚ â€¢ Summary        â”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ 6 Layers       â”‚  â”‚ â€¢ Patterns       â”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Expert Align   â”‚  â”‚ â€¢ Recommendationsâ”‚   â”‚                    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      React Components                                   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ DomainBadge  â”‚ â”‚DataQuality   â”‚ â”‚ChartIntelli  â”‚ â”‚ChartInsights â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚ â”‚ Indicator    â”‚ â”‚ gencePanel   â”‚ â”‚    Card      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ ğŸš— sales     â”‚ â”‚ â–“â–“â–“â–“â–“â–‘ 89%  â”‚ â”‚ 92% Conf.    â”‚ â”‚ Patterns     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ 92% conf     â”‚ â”‚              â”‚ â”‚ 6 layers     â”‚ â”‚ Summary      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚DataProfile   â”‚ â”‚     UploadProgressEnhanced                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   Viewer     â”‚ â”‚                                                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚ â”‚ âœ“ Load & Validate     âœ“ Domain Detection          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Cardinality  â”‚ â”‚ âœ“ Data Cleaning       âœ“ Data Profiling            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Patterns     â”‚ â”‚ âœ“ Metadata Gen        ğŸ”„ Statistical Analysis     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Relationshipsâ”‚ â”‚ â—‹ Chart Recommendations    ... (11 stages)        â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       API Service Layer                                 â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  services/api.js                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚ datasetAPI  â”‚ â”‚  chatAPI   â”‚ â”‚ dashboardAPIâ”‚ â”‚chartIntelli  â”‚     â”‚ â”‚
â”‚  â”‚  â”‚             â”‚ â”‚            â”‚ â”‚             â”‚ â”‚   genceAPI   â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ upload    â”‚ â”‚ â€¢ process  â”‚ â”‚ â€¢ overview  â”‚ â”‚ â€¢ getCharts  â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ list      â”‚ â”‚ â€¢ convos   â”‚ â”‚ â€¢ charts    â”‚ â”‚ â€¢ reasoning  â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ getById   â”‚ â”‚            â”‚ â”‚ â€¢ insights  â”‚ â”‚ â€¢ confidence â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ domain    â”‚ â”‚            â”‚ â”‚             â”‚ â”‚              â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ profiling â”‚ â”‚            â”‚ â”‚             â”‚ â”‚              â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ HTTP/REST API
                                   â”‚ axios requests
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BACKEND (FastAPI + Python)                          â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         API Routes (main.py)                            â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  /api/auth          /api/datasets        /api/dashboard                â”‚ â”‚
â”‚  â”‚  â”‚                  â”‚                     â”‚                             â”‚ â”‚
â”‚  â”‚  â€¢ login            â€¢ upload              â€¢ overview [ENHANCED]         â”‚ â”‚
â”‚  â”‚  â€¢ register         â€¢ list                â€¢ charts [NEW STRUCTURE]      â”‚ â”‚
â”‚  â”‚  â€¢ token            â€¢ getById [ENHANCED]  â€¢ insights                    â”‚ â”‚
â”‚  â”‚                     â€¢ columns [ENHANCED]                                â”‚ â”‚
â”‚  â”‚                     â€¢ reprocess                                         â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  /api/chat          /api/analysis                                       â”‚ â”‚
â”‚  â”‚  â”‚                  â”‚                                                   â”‚ â”‚
â”‚  â”‚  â€¢ conversations    â€¢ generate-dashboard                                â”‚ â”‚
â”‚  â”‚  â€¢ chat             â€¢ design-dashboard                                  â”‚ â”‚
â”‚  â”‚                     â€¢ quis-insights                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Intelligence Services Layer                          â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  services/datasets/                services/charts/                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚  â”‚  â”‚ DomainDetector    â”‚             â”‚ChartIntelligence    â”‚             â”‚ â”‚
â”‚  â”‚  â”‚                   â”‚             â”‚     Service         â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Hybrid approach â”‚             â”‚                     â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ 90%+ accuracy   â”‚             â”‚ â€¢ 6-layer approach  â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ 7 domains       â”‚             â”‚ â€¢ 90-95% alignment  â”‚             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â€¢ Confidence scores â”‚             â”‚ â”‚
â”‚  â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚  â”‚  â”‚ DataProfiler      â”‚             â”‚ChartInsights        â”‚             â”‚ â”‚
â”‚  â”‚  â”‚                   â”‚             â”‚     Service         â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Cardinality     â”‚             â”‚                     â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ 8 patterns      â”‚             â”‚ â€¢ Pattern detection â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Quality metrics â”‚             â”‚ â€¢ NL summaries      â”‚             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â€¢ Recommendations   â”‚             â”‚ â”‚
â”‚  â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚  â”‚  â”‚ChartRecommender   â”‚             â”‚ChartRender          â”‚             â”‚ â”‚
â”‚  â”‚  â”‚                   â”‚             â”‚     Service         â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Domain-aware    â”‚             â”‚                     â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ 8 chart types   â”‚             â”‚ â€¢ Async rendering   â”‚             â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Priority scores â”‚             â”‚ â€¢ Plotly integrationâ”‚             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Background Processing (Celery)                       â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  tasks.py - process_dataset_task()                                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Stage 1:  ğŸ“‚ Load & Validate (5%)                                      â”‚ â”‚
â”‚  â”‚  Stage 2:  ğŸ§¹ Data Cleaning (15%)                                       â”‚ â”‚
â”‚  â”‚  Stage 3:  ğŸ“Š Metadata Generation (25%)                                 â”‚ â”‚
â”‚  â”‚  Stage 4:  ğŸ” Domain Detection - Hybrid (35%)     â­ NEW                â”‚ â”‚
â”‚  â”‚  Stage 5:  ğŸ“ˆ Data Profiling (45%)                â­ NEW                â”‚ â”‚
â”‚  â”‚  Stage 6:  ğŸ“‰ Statistical Analysis (60%)                                â”‚ â”‚
â”‚  â”‚  Stage 7:  ğŸ“Š Chart Recommendations (70%)         â­ NEW                â”‚ â”‚
â”‚  â”‚  Stage 8:  âœ… Quality Metrics (80%)               â­ NEW                â”‚ â”‚
â”‚  â”‚  Stage 9:  ğŸ”— Consolidate Metadata (85%)                                â”‚ â”‚
â”‚  â”‚  Stage 10: ğŸ’¾ Database Save (90%)                                       â”‚ â”‚
â”‚  â”‚  Stage 11: ğŸ” Vector Indexing (95%)                                     â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Progress updates â†’ Redis â†’ Frontend via polling/WebSocket              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Data Layer                                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  MongoDB                    FAISS Vector DB           File Storage      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Users      â”‚             â”‚Dataset Index â”‚         â”‚ CSV Files    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ Datasets   â”‚             â”‚Query Index   â”‚         â”‚ Excel Files  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ Metadata   â”‚             â”‚Embeddings    â”‚         â”‚ JSON Files   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ Convos     â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          DATA FLOW DIAGRAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User uploads dataset:
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚User  â”‚
â”‚Uploadâ”‚
â””â”€â”€â”€â”¬â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Frontend        â”‚  1. File + metadata
â”‚Upload Page     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
                                          â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚Backend           â”‚
                                    â”‚POST /api/datasetsâ”‚
                                    â”‚     /upload      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â”‚ 2. Save file
                                             â”‚    Create DB record
                                             â”‚    Trigger Celery task
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚Celery Worker     â”‚
                                    â”‚tasks.py          â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                            â”‚                            â”‚
                â–¼                            â–¼                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Stage 1-3     â”‚          â”‚Stage 4-5 (NEW!)   â”‚        â”‚Stage 6-11    â”‚
        â”‚Basic Process â”‚          â”‚Intelligence Layer â”‚        â”‚Finalization  â”‚
        â”‚              â”‚          â”‚                   â”‚        â”‚              â”‚
        â”‚â€¢ Load        â”‚   â†’      â”‚â€¢ Domain Detection â”‚   â†’    â”‚â€¢ Stats       â”‚
        â”‚â€¢ Clean       â”‚          â”‚â€¢ Data Profiling   â”‚        â”‚â€¢ Charts      â”‚
        â”‚â€¢ Metadata    â”‚          â”‚â€¢ Recommendations  â”‚        â”‚â€¢ Save        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                            â”‚                            â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â”‚ 3. Enhanced metadata
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚MongoDB           â”‚
                                    â”‚Save enriched     â”‚
                                    â”‚metadata          â”‚
                                    â”‚                  â”‚
                                    â”‚{                 â”‚
                                    â”‚ domain: "sales"  â”‚
                                    â”‚ quality: 0.89    â”‚
                                    â”‚ profiling: {...} â”‚
                                    â”‚ charts: [...]    â”‚
                                    â”‚}                 â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â”‚ 4. Frontend fetches
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚Frontend          â”‚
                                    â”‚Dataset Detail    â”‚
                                    â”‚Dashboard         â”‚
                                    â”‚                  â”‚
                                    â”‚Displays:         â”‚
                                    â”‚â€¢ Domain badge    â”‚
                                    â”‚â€¢ Quality score   â”‚
                                    â”‚â€¢ AI charts       â”‚
                                    â”‚â€¢ Insights        â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                     INTEGRATION POINTS & CHANGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Integration Point 1: Dataset Metadata Response                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ API Endpoint: GET /api/datasets/{id}                                        â”‚
â”‚                                                                              â”‚
â”‚ âŒ OLD STRUCTURE (v3.x):                  âœ… NEW STRUCTURE (v4.0):          â”‚
â”‚                                                                              â”‚
â”‚ {                                         {                                 â”‚
â”‚   "id": "abc123",                           "id": "abc123",                 â”‚
â”‚   "metadata": {                             "metadata": {                   â”‚
â”‚     "row_count": 1000,                        "dataset_overview": {         â”‚
â”‚     "column_count": 10                          "total_rows": 1000,        â”‚
â”‚   }                                             "total_columns": 10,       â”‚
â”‚ }                                               "domain": "sales",          â”‚
â”‚                                                 "domain_confidence": 0.92   â”‚
â”‚                                               },                            â”‚
â”‚                                               "data_quality": {...},        â”‚
â”‚                                               "profiling_results": {...},   â”‚
â”‚                                               "chart_recommendations": [...] â”‚
â”‚                                             }                               â”‚
â”‚                                           }                                 â”‚
â”‚                                                                              â”‚
â”‚ Frontend Action: Update response parser to handle nested structure          â”‚
â”‚                  Add backward compatibility for v3.x format                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Integration Point 2: Chart Intelligence & Insights                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ API Endpoint: GET /api/dashboard/{id}/charts                                â”‚
â”‚                                                                              â”‚
â”‚ âŒ OLD STRUCTURE:                         âœ… NEW STRUCTURE:                 â”‚
â”‚                                                                              â”‚
â”‚ {                                         {                                 â”‚
â”‚   "charts": [                               "charts": [                     â”‚
â”‚     {                                         {                             â”‚
â”‚       "type": "bar",                            "type": "bar",              â”‚
â”‚       "data": [...]                             "data": [...],              â”‚
â”‚     }                                           "intelligence": {           â”‚
â”‚   ]                                               "confidence": 0.92,       â”‚
â”‚ }                                                 "expert_alignment": 0.94, â”‚
â”‚                                                   "reasoning": "..."        â”‚
â”‚                                                 },                          â”‚
â”‚                                                 "insights": {               â”‚
â”‚                                                   "summary": "...",         â”‚
â”‚                                                   "patterns": [...],        â”‚
â”‚                                                   "recommendations": [...]  â”‚
â”‚                                                 }                           â”‚
â”‚                                               }                             â”‚
â”‚                                             ]                               â”‚
â”‚                                           }                                 â”‚
â”‚                                                                              â”‚
â”‚ Frontend Action: Display intelligence panel and insights cards              â”‚
â”‚                  Show confidence badges and expert alignment                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Integration Point 3: Upload Progress Updates                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ API Endpoint: GET /api/datasets/task/{task_id}/status                       â”‚
â”‚                                                                              â”‚
â”‚ âŒ OLD STRUCTURE:                         âœ… NEW STRUCTURE:                 â”‚
â”‚                                                                              â”‚
â”‚ {                                         {                                 â”‚
â”‚   "progress": 50,                           "progress": 35,                 â”‚
â”‚   "status": "processing"                    "stage": "domain_detection",    â”‚
â”‚ }                                           "stage_name": "Domain Detection",â”‚
â”‚                                             "message": "ğŸ” Detecting...",   â”‚
â”‚                                             "stages_completed": 3,          â”‚
â”‚                                             "total_stages": 11,             â”‚
â”‚                                             "status": "processing"          â”‚
â”‚                                           }                                 â”‚
â”‚                                                                              â”‚
â”‚ Frontend Action: Show detailed stage progress with icons                    â”‚
â”‚                  Display stage names and completion status                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Legend:**
- â­ = New in v4.0
- âœ… = Ready / Completed
- ğŸ”„ = In Progress
- âŒ = Old/Deprecated
- â—‹ = Not Started

**Key Takeaways:**
1. Backend is production-ready with 6 new intelligent services
2. Frontend needs updates to display new metadata structure
3. Quick-start path available for 80% functionality in 2 hours
4. Full implementation requires ~4 weeks for complete UI
5. Backward compatibility recommended during transition
